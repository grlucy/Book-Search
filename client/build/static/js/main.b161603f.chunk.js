(this.webpackJsonpbooksearch=this.webpackJsonpbooksearch||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(53),c=a.n(l),r=a(8),i=a(6);a(61);var s=function(){return o.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"navbar-brand"},o.a.createElement(r.b,{to:"/",className:"navbar-item"},o.a.createElement("h1",{className:"title is-4 level",id:"book-logo"},o.a.createElement("i",{className:"fas fa-book-reader"})," \xa0\xa0BOOK SEARCH"))),o.a.createElement("div",{className:"navbar-menu is-active"},o.a.createElement("div",{className:"navbar-end"},o.a.createElement(r.b,{to:"/",className:"navbar-item"},"Search"),o.a.createElement(r.b,{to:"/saved",className:"navbar-item"},"Saved")))))};var m=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"hero is-light"},o.a.createElement("div",{className:"hero-head"},o.a.createElement(s,null)),o.a.createElement("div",{className:"hero-body"},o.a.createElement("div",{className:"container has-text-centered"},o.a.createElement("h1",{className:"title is-1",id:"book-logo"},o.a.createElement("i",{className:"fas fa-book-reader"})," \xa0BOOK SEARCH"),o.a.createElement("h2",{className:"subtitle"},"Search and Save from the Google Books API")))))},u=a(7),d=a(18),f=a.n(d),E=a(12),h=a.n(E);a(115).config();var v=function(e){return h.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&key="+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APIkey)};a(118);var g=function(e){return o.a.createElement("section",{className:"topPad"===e.padClass?"section topPad":"botPad"===e.padClass?"section botPad":"section"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"section-border"},o.a.createElement("h4",{className:"subtitle is-4"},e.sectionTitle),e.children)))};a(119);var b=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column is-four-fifths"},o.a.createElement("input",{className:"input",type:"text",placeholder:"Book Title, Author, or Keyword",onChange:e.handleInputChange})),o.a.createElement("div",{className:"column"},o.a.createElement("button",{className:"button has-text-white",id:"search-btn",onClick:e.handleClick},"Search"))))};a(120);var p=function(e){var t=Object(i.f)(),a={title:e.title,authors:e.authors,description:e.description,coverImage:e.coverImage,link:e.link};return o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement("article",{className:"media"},o.a.createElement("figure",{className:"media-left"},o.a.createElement("p",{className:"image is-64x64"},o.a.createElement("img",{src:e.coverImage,alt:e.title}))),o.a.createElement("div",{className:"media-content"},o.a.createElement("div",{className:"content"},o.a.createElement("p",null,o.a.createElement("strong",null,e.title),o.a.createElement("br",null),void 0!==e.authors&&0!==e.authors.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"Written by: "),e.authors.map((function(e){return o.a.createElement("span",{key:e},o.a.createElement("br",null),e)})),o.a.createElement("br",null)):o.a.createElement(o.a.Fragment,null),o.a.createElement("br",null),e.description))),o.a.createElement("div",{className:"media-right"},o.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("button",{className:"button view-btn has-text-white marg-bot"},o.a.createElement("i",{className:"fas fa-eye"}))),o.a.createElement("br",null),"/"===t.pathname?o.a.createElement("button",{className:"button save-btn is-light","data-title":e.title,onClick:function(){return e.handleSave(a)}},o.a.createElement("i",{className:"fas fa-heart"})):o.a.createElement("button",{className:"button delete-btn is-light",onClick:function(){return e.handleDelete(e.id,e.title)}},o.a.createElement("i",{className:"fas fa-times"})))))};a(121);var N=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"notification",onClick:e.onClick},o.a.createElement("button",{className:"delete"}),e.children))},k=function(){return h.a.get("/api/books")},w=function(e){return h.a.delete("/api/books/"+e)},O=function(e){return h.a.post("/api/books",e)},C=f()();var S=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),r=Object(u.a)(c,2),i=r[0],s=r[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),f=d[0],E=d[1],h=Object(n.useState)(""),k=Object(u.a)(h,2),w=k[0],S=k[1];Object(n.useEffect)((function(){setTimeout((function(){C.emit("ping","ping")}),8e3)}),[]),C.on("pong",(function(){})),Object(n.useEffect)((function(){i.trim()&&v(i).then((function(e){if(0===e.data.totalItems)throw E([]),new Error("No results found.");E(e.data.items)})).catch((function(e){return console.log(e)}))}),[i]);var I=function(e){C.emit("save book",e.title),O(e).then().catch((function(e){return console.log(e)}))};return C.on("show save message",(function(e){S(e)})),o.a.createElement(o.a.Fragment,null,""!==w?o.a.createElement(N,{onClick:function(e){S("")}},'Saved "',w,'"'):o.a.createElement(o.a.Fragment,null),o.a.createElement(g,{sectionTitle:"Search Books",padClass:0===f.length?"allPad":"topPad"},o.a.createElement(b,{handleInputChange:function(e){l(e.target.value)},handleClick:function(e){s(a)}})),0===f.length?o.a.createElement(o.a.Fragment,null):o.a.createElement(g,{sectionTitle:"Results",padClass:"botPad"},f.map((function(e){return o.a.createElement(p,{key:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,link:e.volumeInfo.infoLink,coverImage:void 0===e.volumeInfo.imageLinks?"https://via.placeholder.com/64x64.png?text=No+Image+Found":e.volumeInfo.imageLinks.thumbnail,handleSave:I})}))))},I=f()();var j=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),r=Object(u.a)(c,2),i=r[0],s=r[1];function m(){k().then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}Object(n.useEffect)((function(){m(),setTimeout((function(){I.emit("ping","ping")}),8e3)}),[]),I.on("pong",(function(){})),I.on("show delete message",(function(e){s(e),m()}));var d=function(e,t){I.emit("delete book",t),w(e).then((function(e){return m()})).catch((function(e){return console.log(e)}))};return o.a.createElement(o.a.Fragment,null,""!==i?o.a.createElement(N,{onClick:function(e){s("")}},'Deleted "',i,'"'):o.a.createElement(o.a.Fragment,null),o.a.createElement(g,{sectionTitle:"Saved Books"},0===a.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement("p",null,"No books saved yet!")):o.a.createElement(o.a.Fragment,null),a.map((function(e){return o.a.createElement(p,{key:e._id,id:e._id,title:e.title,authors:e.authors,description:e.description,link:e.link,coverImage:e.coverImage,handleDelete:d})}))))};var F=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{sectionTitle:"Error: Page Not Found",padClass:"allPad"}))};a(122);var P=function(){return o.a.createElement("footer",{className:"footer",id:"footer"},o.a.createElement("div",{className:"content has-text-centered"},o.a.createElement("p",{className:"has-text-white"},"\xa9 2020")))};a(123);var T=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,null,o.a.createElement("div",{id:"main-content"},o.a.createElement(m,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:S}),o.a.createElement(i.a,{exact:!0,path:"/saved",component:j}),o.a.createElement(i.a,{path:"*",component:F}))),o.a.createElement(P,null)))},y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(T,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");y?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):x(e)}))}}()},56:function(e,t,a){e.exports=a(124)},61:function(e,t,a){},96:function(e,t){}},[[56,1,2]]]);
//# sourceMappingURL=main.b161603f.chunk.js.map