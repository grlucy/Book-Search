(this.webpackJsonpbooksearch=this.webpackJsonpbooksearch||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(53),c=a.n(o),r=a(8),i=a(6);a(61);var s=function(){return l.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(r.b,{to:"/",className:"navbar-item"},l.a.createElement("h1",{className:"title is-4 level",id:"book-logo"},l.a.createElement("i",{className:"fas fa-book-reader"})," \xa0\xa0BOOK SEARCH"))),l.a.createElement("div",{className:"navbar-menu is-active"},l.a.createElement("div",{className:"navbar-end"},l.a.createElement(r.b,{to:"/",className:"navbar-item"},"Search"),l.a.createElement(r.b,{to:"/saved",className:"navbar-item"},"Saved")))))};var m=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"hero is-light"},l.a.createElement("div",{className:"hero-head"},l.a.createElement(s,null)),l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container has-text-centered"},l.a.createElement("h1",{className:"title is-1",id:"book-logo"},l.a.createElement("i",{className:"fas fa-book-reader"})," \xa0BOOK SEARCH"),l.a.createElement("h2",{className:"subtitle"},"Search and Save from the Google Books API")))))},u=a(7),d=a(18),f=a.n(d),E=a(11),h=a.n(E),v=function(e){return h.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&key=AIzaSyABWfJxJYNLi9A_-6tZrSmsl8CDQgOatzU")};a(115);var g=function(e){return l.a.createElement("section",{className:"topPad"===e.padClass?"section topPad":"botPad"===e.padClass?"section botPad":"section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"section-border"},l.a.createElement("h4",{className:"subtitle is-4"},e.sectionTitle),e.children)))};a(116);var b=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",null),l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column is-four-fifths"},l.a.createElement("input",{className:"input",type:"text",placeholder:"Book Title, Author, or Keyword",onChange:e.handleInputChange})),l.a.createElement("div",{className:"column"},l.a.createElement("button",{className:"button has-text-white",id:"search-btn",onClick:e.handleClick},"Search"))))};a(117);var p=function(e){var t=Object(i.f)(),a={title:e.title,authors:e.authors,description:e.description,coverImage:e.coverImage,link:e.link};return l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",null),l.a.createElement("article",{className:"media"},l.a.createElement("figure",{className:"media-left"},l.a.createElement("p",{className:"image is-64x64"},l.a.createElement("img",{src:e.coverImage,alt:e.title}))),l.a.createElement("div",{className:"media-content"},l.a.createElement("div",{className:"content"},l.a.createElement("p",null,l.a.createElement("strong",null,e.title),l.a.createElement("br",null),void 0!==e.authors&&0!==e.authors.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Written by: "),e.authors.map((function(e){return l.a.createElement("span",{key:e},l.a.createElement("br",null),e)})),l.a.createElement("br",null)):l.a.createElement(l.a.Fragment,null),l.a.createElement("br",null),e.description))),l.a.createElement("div",{className:"media-right"},l.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("button",{className:"button view-btn has-text-white marg-bot"},l.a.createElement("i",{className:"fas fa-eye"}))),l.a.createElement("br",null),"/"===t.pathname?l.a.createElement("button",{className:"button save-btn is-light","data-title":e.title,onClick:function(){return e.handleSave(a)}},l.a.createElement("i",{className:"fas fa-heart"})):l.a.createElement("button",{className:"button delete-btn is-light",onClick:function(){return e.handleDelete(e.id,e.title)}},l.a.createElement("i",{className:"fas fa-times"})))))};a(118);var N=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"notification",onClick:e.onClick},l.a.createElement("button",{className:"delete"}),e.children))},k=function(){return h.a.get("/api/books")},w=function(e){return h.a.delete("/api/books/"+e)},O=function(e){return h.a.post("/api/books",e)},C=f()();var S=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),r=Object(u.a)(c,2),i=r[0],s=r[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),f=d[0],E=d[1],h=Object(n.useState)(""),k=Object(u.a)(h,2),w=k[0],S=k[1];Object(n.useEffect)((function(){setTimeout((function(){C.emit("ping","ping")}),8e3)}),[]),C.on("pong",(function(){})),Object(n.useEffect)((function(){i.trim()&&v(i).then((function(e){if(0===e.data.totalItems)throw E([]),new Error("No results found.");E(e.data.items)})).catch((function(e){return console.log(e)}))}),[i]);var I=function(e){C.emit("save book",e.title),O(e).then().catch((function(e){return console.log(e)}))};return C.on("show save message",(function(e){S(e)})),l.a.createElement(l.a.Fragment,null,""!==w?l.a.createElement(N,{onClick:function(e){S("")}},'Saved "',w,'"'):l.a.createElement(l.a.Fragment,null),l.a.createElement(g,{sectionTitle:"Search Books",padClass:0===f.length?"allPad":"topPad"},l.a.createElement(b,{handleInputChange:function(e){o(e.target.value)},handleClick:function(e){s(a)}})),0===f.length?l.a.createElement(l.a.Fragment,null):l.a.createElement(g,{sectionTitle:"Results",padClass:"botPad"},f.map((function(e){return l.a.createElement(p,{key:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,link:e.volumeInfo.infoLink,coverImage:void 0===e.volumeInfo.imageLinks?"https://via.placeholder.com/64x64.png?text=No+Image+Found":e.volumeInfo.imageLinks.thumbnail,handleSave:I})}))))},I=f()();var j=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),r=Object(u.a)(c,2),i=r[0],s=r[1];function m(){k().then((function(e){return o(e.data)})).catch((function(e){return console.log(e)}))}Object(n.useEffect)((function(){m(),setTimeout((function(){I.emit("ping","ping")}),8e3)}),[]),I.on("pong",(function(){})),I.on("show delete message",(function(e){s(e),m()}));var d=function(e,t){I.emit("delete book",t),w(e).then((function(e){return m()})).catch((function(e){return console.log(e)}))};return l.a.createElement(l.a.Fragment,null,""!==i?l.a.createElement(N,{onClick:function(e){s("")}},'Deleted "',i,'"'):l.a.createElement(l.a.Fragment,null),l.a.createElement(g,{sectionTitle:"Saved Books"},0===a.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",null),l.a.createElement("p",null,"No books saved yet!")):l.a.createElement(l.a.Fragment,null),a.map((function(e){return l.a.createElement(p,{key:e._id,id:e._id,title:e.title,authors:e.authors,description:e.description,link:e.link,coverImage:e.coverImage,handleDelete:d})}))))};var F=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{sectionTitle:"Error: Page Not Found",padClass:"allPad"}))};a(119);var x=function(){return l.a.createElement("footer",{className:"footer",id:"footer"},l.a.createElement("div",{className:"content has-text-centered"},l.a.createElement("p",{className:"has-text-white"},"\xa9 2020")))};a(120);var y=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,null,l.a.createElement("div",{id:"main-content"},l.a.createElement(m,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:S}),l.a.createElement(i.a,{exact:!0,path:"/saved",component:j}),l.a.createElement(i.a,{path:"*",component:F}))),l.a.createElement(x,null)))},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(l.a.createElement(y,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");P?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):B(e)}))}}()},56:function(e,t,a){e.exports=a(121)},61:function(e,t,a){},96:function(e,t){}},[[56,1,2]]]);
//# sourceMappingURL=main.56a91826.chunk.js.map