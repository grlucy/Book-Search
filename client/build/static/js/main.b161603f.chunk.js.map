{"version":3,"sources":["components/Navbar/Navbar.js","components/Header/Header.js","utils/API.js","components/Section/Section.js","components/SearchForm/SearchForm.js","components/Result/Result.js","components/Notification/Notification.js","utils/SavedAPI.js","pages/Search/Search.js","pages/Saved/Saved.js","pages/NoMatch/NoMatch.js","components/Footer/Footer.js","App.js","registerServiceWorker.js","index.js"],"names":["Navbar","className","role","aria-label","to","id","Header","require","config","query","axios","get","process","REACT_APP_APIkey","Section","props","padClass","sectionTitle","children","SearchForm","type","placeholder","onChange","handleInputChange","onClick","handleClick","Result","location","useLocation","bookData","title","authors","description","coverImage","link","src","alt","undefined","length","map","author","key","href","target","rel","pathname","data-title","handleSave","handleDelete","Notification","delete","post","socket","socketIOClient","Search","useState","inputValue","setInputValue","search","setSearch","results","setResults","recentSave","setRecentSave","useEffect","setTimeout","emit","on","trim","API","then","res","data","totalItems","Error","items","catch","err","console","log","SavedAPI","e","event","value","result","volumeInfo","infoLink","imageLinks","thumbnail","Saved","saved","setSaved","deleted","setDeleted","loadSaved","book","_id","NoMatch","Footer","App","exact","path","component","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","error","ReactDOM","render","document","getElementById","URL","origin","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.b161603f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\r\n      <div className=\"container\">\r\n        <div className=\"navbar-brand\">\r\n          <Link to=\"/\" className=\"navbar-item\">\r\n            <h1 className=\"title is-4 level\" id=\"book-logo\">\r\n              <i className=\"fas fa-book-reader\"></i> &nbsp;&nbsp;BOOK SEARCH\r\n            </h1>\r\n          </Link>\r\n        </div>\r\n        <div className=\"navbar-menu is-active\">\r\n          <div className=\"navbar-end\">\r\n            <Link to=\"/\" className=\"navbar-item\">\r\n              Search\r\n            </Link>\r\n            <Link to=\"/saved\" className=\"navbar-item\">\r\n              Saved\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <>\r\n      <section className=\"hero is-light\">\r\n        <div className=\"hero-head\">\r\n          <Navbar />\r\n        </div>\r\n        <div className=\"hero-body\">\r\n          <div className=\"container has-text-centered\">\r\n            <h1 className=\"title is-1\" id=\"book-logo\">\r\n              <i className=\"fas fa-book-reader\"></i> &nbsp;BOOK SEARCH\r\n            </h1>\r\n            <h2 className=\"subtitle\">\r\n              Search and Save from the Google Books API\r\n            </h2>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import axios from \"axios\";\r\n\r\nrequire(\"dotenv\").config();\r\n\r\nexport default {\r\n  searchBook: function (query) {\r\n    return axios.get(\r\n      \"https://www.googleapis.com/books/v1/volumes?q=\" +\r\n        query +\r\n        \"&key=\" +\r\n        process.env.REACT_APP_APIkey\r\n    );\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport \"./Section.css\";\r\n\r\nfunction Section(props) {\r\n  return (\r\n    <section\r\n      className={\r\n        props.padClass === \"topPad\"\r\n          ? \"section topPad\"\r\n          : props.padClass === \"botPad\"\r\n          ? \"section botPad\"\r\n          : \"section\"\r\n      }\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"section-border\">\r\n          <h4 className=\"subtitle is-4\">{props.sectionTitle}</h4>\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Section;\r\n","import React from \"react\";\r\nimport \"./SearchForm.css\";\r\n\r\nfunction SearchForm(props) {\r\n  return (\r\n    <>\r\n      <hr />\r\n      <div className=\"columns\">\r\n        <div className=\"column is-four-fifths\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Book Title, Author, or Keyword\"\r\n            onChange={props.handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"column\">\r\n          <button\r\n            className=\"button has-text-white\"\r\n            id=\"search-btn\"\r\n            onClick={props.handleClick}\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport \"./Result.css\";\r\n\r\nfunction Result(props) {\r\n  const location = useLocation();\r\n\r\n  const bookData = {\r\n    title: props.title,\r\n    authors: props.authors,\r\n    description: props.description,\r\n    coverImage: props.coverImage,\r\n    link: props.link,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <hr />\r\n      <article className=\"media\">\r\n        <figure className=\"media-left\">\r\n          <p className=\"image is-64x64\">\r\n            <img src={props.coverImage} alt={props.title} />\r\n          </p>\r\n        </figure>\r\n        <div className=\"media-content\">\r\n          <div className=\"content\">\r\n            <p>\r\n              <strong>{props.title}</strong>\r\n              <br />\r\n              {props.authors !== undefined && props.authors.length !== 0 ? (\r\n                <>\r\n                  <span>Written by: </span>\r\n                  {props.authors.map((author) => (\r\n                    <span key={author}>\r\n                      <br />\r\n                      {author}\r\n                    </span>\r\n                  ))}\r\n                  <br />\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n              <br />\r\n              {props.description}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"media-right\">\r\n          <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <button className=\"button view-btn has-text-white marg-bot\">\r\n              <i className=\"fas fa-eye\"></i>\r\n            </button>\r\n          </a>\r\n          <br />\r\n          {location.pathname === \"/\" ? (\r\n            <button\r\n              className=\"button save-btn is-light\"\r\n              data-title={props.title}\r\n              onClick={() => props.handleSave(bookData)}\r\n            >\r\n              <i className=\"fas fa-heart\"></i>\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"button delete-btn is-light\"\r\n              onClick={() => props.handleDelete(props.id, props.title)}\r\n            >\r\n              <i className=\"fas fa-times\"></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </article>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport \"./Notification.css\";\r\n\r\nfunction Notification(props) {\r\n  return (\r\n    <>\r\n      <div className=\"notification\" onClick={props.onClick}>\r\n        <button className=\"delete\"></button>\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\n\r\nexport default {\r\n  getBooks: function () {\r\n    return axios.get(\"/api/books\");\r\n  },\r\n  deleteBook: function (id) {\r\n    return axios.delete(\"/api/books/\" + id);\r\n  },\r\n  saveBook: function (bookData) {\r\n    return axios.post(\"/api/books\", bookData);\r\n  },\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport API from \"../../utils/API\";\r\n\r\nimport Section from \"../../components/Section/Section\";\r\nimport SearchForm from \"../../components/SearchForm/SearchForm\";\r\nimport Result from \"../../components/Result/Result\";\r\nimport Notification from \"../../components/Notification/Notification\";\r\n\r\nimport SavedAPI from \"../../utils/SavedAPI\";\r\n\r\nconst socket = socketIOClient();\r\n\r\nfunction Search() {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n  const [recentSave, setRecentSave] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Create socket.io activity to prevent timeout\r\n    setTimeout(function () {\r\n      socket.emit(\"ping\", \"ping\");\r\n    }, 8000);\r\n  }, []);\r\n\r\n  socket.on(\"pong\", function () {\r\n    return;\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!search.trim()) {\r\n      return;\r\n    }\r\n    API.searchBook(search)\r\n      .then((res) => {\r\n        if (res.data.totalItems === 0) {\r\n          setResults([]);\r\n          throw new Error(\"No results found.\");\r\n        }\r\n        setResults(res.data.items);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [search]);\r\n\r\n  const handleInputChange = (event) => {\r\n    setInputValue(event.target.value);\r\n  };\r\n  const handleClick = (event) => {\r\n    setSearch(inputValue);\r\n  };\r\n\r\n  const handleSave = (bookData) => {\r\n    socket.emit(\"save book\", bookData.title);\r\n    SavedAPI.saveBook(bookData)\r\n      .then()\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  socket.on(\"show save message\", function (title) {\r\n    setRecentSave(title);\r\n  });\r\n\r\n  const handleNotificationClick = (e) => {\r\n    setRecentSave(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {recentSave !== \"\" ? (\r\n        <Notification onClick={handleNotificationClick}>\r\n          Saved \"{recentSave}\"\r\n        </Notification>\r\n      ) : (\r\n        <></>\r\n      )}\r\n      <Section\r\n        sectionTitle=\"Search Books\"\r\n        padClass={results.length === 0 ? \"allPad\" : \"topPad\"}\r\n      >\r\n        <SearchForm\r\n          handleInputChange={handleInputChange}\r\n          handleClick={handleClick}\r\n        />\r\n      </Section>\r\n      {results.length === 0 ? (\r\n        <></>\r\n      ) : (\r\n        <Section sectionTitle=\"Results\" padClass=\"botPad\">\r\n          {results.map((result) => (\r\n            <Result\r\n              key={result.id}\r\n              title={result.volumeInfo.title}\r\n              authors={result.volumeInfo.authors}\r\n              description={result.volumeInfo.description}\r\n              link={result.volumeInfo.infoLink}\r\n              coverImage={\r\n                result.volumeInfo.imageLinks === undefined\r\n                  ? \"https://via.placeholder.com/64x64.png?text=No+Image+Found\"\r\n                  : result.volumeInfo.imageLinks.thumbnail\r\n              }\r\n              handleSave={handleSave}\r\n            />\r\n          ))}\r\n        </Section>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport SavedAPI from \"../../utils/SavedAPI\";\r\n\r\nimport Section from \"../../components/Section/Section\";\r\nimport Result from \"../../components/Result/Result\";\r\nimport Notification from \"../../components/Notification/Notification\";\r\n\r\nconst socket = socketIOClient();\r\n\r\nfunction Saved() {\r\n  const [saved, setSaved] = useState([]);\r\n  const [deleted, setDeleted] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadSaved();\r\n    // Create socket.io activity to prevent timeout\r\n    setTimeout(function () {\r\n      socket.emit(\"ping\", \"ping\");\r\n    }, 8000);\r\n  }, []);\r\n\r\n  socket.on(\"pong\", function () {\r\n    return;\r\n  });\r\n\r\n  function loadSaved() {\r\n    SavedAPI.getBooks()\r\n      .then((res) => setSaved(res.data))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  socket.on(\"show delete message\", function (title) {\r\n    setDeleted(title);\r\n    loadSaved();\r\n  });\r\n\r\n  const handleDelete = (id, title) => {\r\n    socket.emit(\"delete book\", title);\r\n    SavedAPI.deleteBook(id)\r\n      .then((res) => loadSaved())\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleNotificationClick = (e) => {\r\n    setDeleted(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {deleted !== \"\" ? (\r\n        <Notification onClick={handleNotificationClick}>\r\n          Deleted \"{deleted}\"\r\n        </Notification>\r\n      ) : (\r\n        <></>\r\n      )}\r\n      <Section sectionTitle=\"Saved Books\">\r\n        {saved.length === 0 ? (\r\n          <>\r\n            <hr />\r\n            <p>No books saved yet!</p>\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        {saved.map((book) => (\r\n          <Result\r\n            key={book._id}\r\n            id={book._id}\r\n            title={book.title}\r\n            authors={book.authors}\r\n            description={book.description}\r\n            link={book.link}\r\n            coverImage={book.coverImage}\r\n            handleDelete={handleDelete}\r\n          />\r\n        ))}\r\n      </Section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Saved;\r\n","import React from \"react\";\r\nimport Section from \"../../components/Section/Section\";\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <>\r\n      <Section sectionTitle=\"Error: Page Not Found\" padClass=\"allPad\" />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NoMatch;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\" id=\"footer\">\r\n      <div className=\"content has-text-centered\">\r\n        <p className=\"has-text-white\">&copy; 2020</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Header from \"./components/Header/Header\";\r\nimport Search from \"./pages/Search/Search\";\r\nimport Saved from \"./pages/Saved/Saved\";\r\nimport NoMatch from \"./pages/NoMatch/NoMatch\";\r\nimport Footer from \"./components/Footer/Footer\";\r\n\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <div id=\"main-content\">\r\n          <Header />\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Search} />\r\n            <Route exact path=\"/saved\" component={Saved} />\r\n            <Route path=\"*\" component={NoMatch} />\r\n          </Switch>\r\n        </div>\r\n        <Footer />\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log(\"New content is available; please refresh.\");\r\n            } else {\r\n              // At this point, everything has been pre-cached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}